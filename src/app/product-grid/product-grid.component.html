<div class="d-flex flex-wrap justify-content-center">
    <div *ngFor="let product of products"
        class="d-flex flex-column align-content-stretch justify-content-between p-2 productCards">
        <div class="d-flex flex-column align-content-stretch justify-content-center position-relative">
            <p class="text-danger m-0 fontSize12">فروش ویژه</p>
            <!-- این قراره متغیر باشه با t یا  f  -->
            <a [routerLink]="['/ProductDetails']" [queryParams]="{ id: product.id }"
                class="d-flex align-content-center justify-content-center linkDecoration">
                <!-- <div class="position-absolute top-50 start-0">
                    <p class="badge p-1 productdiscount">
                        % {{ product.Discount }}
                    </p>
                </div> -->
                <img [src]="product.imageUrl || 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQs9gUXKwt2KErC_jWWlkZkGabxpeGchT-fyw&s'"
                    [alt]="product.title" class="img-fluid imgSize" />
            </a>
        </div>
        <div class="d-flex flex-column align-items-stretch justify-content-start px-2 h-auto">
            <div class="fontSize14 px-2">
                <h6 class="mb-4" title="{{ product.title }}">{{ product.title }}</h6>
                <div class="d-flex flex-row justify-content-between mb-2">
                    <div>
                        <p class="badge bg-danger fontSize12 m-0">% {{ product.Discount }}</p>
                    </div>
                    <div class="d-flex flex-column">
                        <p class="m-0  fw-bold">{{ product.final_price.toLocaleString() }} تومان</p>
                        <p class=" text-decoration-line-through text-muted m-0 AboutProductpS">{{ product.main_price.toLocaleString() }} </p>
                    </div>
                </div>
            </div>
            <div class="">
                <app-cart-button [quantity]="getQuantity(product.id)" [addcard]="product.addcard || ''"
                    (onAdd)="addition.emit(product.id)" (onReduce)="reduce.emit(product.id)">
                </app-cart-button>
            </div>
        </div>
    </div>
</div>